{% include 'head.html' %}
{% include 'header.html' %}
<!-- Trip Detail Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h6 class="section-title bg-white text-center text-primary px-3">Trip Details</h6>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="package-item">
                    <div >
                        <img class="img-fluid" src="img/package-1.jpg" alt="">
                    </div>

                    <div class="text-center p-4">
                        <h3 class="mb-0">{{ pack.trip_name }}</h3>
                        <!-- <p>{{ pack.trip_name }}</p> -->
                      
                    <br>
            
                        <!-- Photo Gallery -->

<style>
    #gallery {
        position: relative;
        width: 100%;
        max-width: 600px; /* Adjust max-width as needed */
        margin: 0 auto;
    }
    
    #gallery img {
        display: none;
        width: 100%;
        height: 350;
    }
    #gallery img:hover {
        max-width: 100%; /* Adjust as needed */
        max-height: 100%; /* Adjust as needed */
    }
    
    .img-fluid {
        max-width: 100%; /* Or set it to an absolute value, like max-width: 300px; */
        height: auto; /* Maintain aspect ratio */
    }
    #attractionName {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        background-color: rgba(0, 0, 0, 0.7);
        color: #fff;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 14px;
    }
    #prev, #next {
        position: absolute;
        top: 45%;
        transform: translateY(-50%);
        font-size: 24px;
        cursor: pointer;
        background: none;
        border: none;
        color: #000;
    }
    #prev {
        left: -50px;
    }
    #next {
        right: -50px;
    }
</style>

<div class="text-center p-4">
    <h5 class="mb-0">Attractions</h5>
<br>

<div id="gallery">
    <button id="prev" onclick="prevImage()">&#10094;</button>
    <button id="next" onclick="nextImage()">&#10095;</button>
    {% for attractio in other.attraction %}
        <img src="{{ attractio.att_imgs.url }}" alt="Attraction img" height="100" width="100%">
        <div id="attractionName">{{ attractio.name }}</div>
    {% endfor %}
</div>

<script>
    var currentImageIndex = 0;
    var currentNameIndex = 0;
    var images = document.querySelectorAll('#gallery img');
    var name = document.querySelectorAll('#gallery div');

    function showImage(index) {
        if (index >= 0 && index < images.length) {
            images.forEach(img => img.style.display = 'none');
            images[index].style.display = 'block';
            currentImageIndex = index;
        }
    }
    function showName(index){
        console.log("dn");
        if (index >= 0 && index < name.length) {
            name.forEach(name => name.style.display = 'none');
            name[index].style.display = 'block';
            currentNameIndex = index;
        }
    }

    function prevImage() {
        currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
        showImage(currentImageIndex);
        
        currentNameIndex = (currentNameIndex - 1 + name.length) % name.length;
        showName(currentNameIndex);
    }

    function nextImage() {
        currentImageIndex = (currentImageIndex + 1) % images.length;
        showImage(currentImageIndex);
    
        currentNameIndex = (currentNameIndex + 1) % name.length;
        showImage(currentNameIndex);}

    // Show the first image initially
    showImage(currentImageIndex);
    showName(currentNameIndex)
</script>
</div>
<div class="text-center p-4">
    <div class="d-flex border-bottom">
        <small class="flex-fill text-center border-end py-2"><i class="fa fa-map-marker-alt text-primary me-2"></i>{{ pack.city }}</small>
        <small class="flex-fill text-center border-end py-2"><i class="fa fa-calendar-alt text-primary me-2"></i>{{ pack.duration }}</small>
        <small class="flex-fill text-center py-2"><i class="fa fa-user text-primary me-2"></i>{{ pack.capacity }} Person</small>
    </div>
    </div>

<!-- End Photo Gallery -->
<div class="text-center p-4">
    <div style="display: inline-block; vertical-align: top;">
        <img src="{{ other1.agent_instance.agency_logo.url }}" alt="agency" style="max-width: 60px;">
    </div>
    <div style="display: inline-block; vertical-align: top; margin-left: 10px;">
        <p class="mb-0"><strong>Agency:</strong> {{ pack.agency_id }}</p>
    </div>
</div>
    <h3 class="mb-0">{{ pack.price }}Rs.</h3>
                            <div class="mb-3">
                                <small class="fa fa-star text-primary"></small>
                                <small class="fa fa-star text-primary"></small>
                                <small class="fa fa-star text-primary"></small>
                                <small class="fa fa-star text-primary"></small>
                                <small class="fa fa-star text-primary"></small>
                            </div>
                        <!-- //date,time,place -->
                            <div class="row">
                                <div class="col-md-6">
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <th colspan="2"><strong>Departure</strong></th>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-calendar-alt text-primary me-2"></i> {{ pack.departure_date }}</td>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-clock text-primary me-2"></i> {{ pack.departure_time }}</td>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-map-marker-alt text-primary me-2"></i> {{ pack.departure_place }}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-6" style="border-left: 1px solid #ccc;">
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <th colspan="2"><strong>Return</strong></th>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-calendar-alt text-primary me-2"></i> {{ pack.return_date }}</td>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-clock text-primary me-2"></i> {{ pack.return_time }}</td>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-map-marker-alt text-primary me-2"></i> {{ pack.return_place }}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        <!-- //date,time,place -->
                            
                        <p>{{ pack.extra_info }}</p>

                        <div class="d-flex justify-content-center mb-2">
                            <a href="{% url 'package_view' %}" class="btn btn-sm btn-primary px-3 border-end" style="border-radius: 30px 0 0 30px;">Back to Packages</a>
                            <a href="booking/{{pack.id}}" class="btn btn-sm btn-primary px-3" style="border-radius: 0 30px 30px 0;">Book Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<!-- Trip Detail End -->


{% include 'footer.html' %}
{% include 'script.html' %}
